<h1>Advanced Search</h1>

<%= form_with url: '/pokemon/search', method: :get, local: true do |f| %>
    <%= f.label :name %>
    <%= f.text_field :name %>

    <%= f.label :pokemon_type %>
    <%= f.select :pokemon_type, options_for_select(@pokemon_types, params[:pokemon_type]), include_blank: true %><br>

    <%= f.label :region %>
    <%= f.select :region, options_for_select(@regions, params[:region]), include_blank: true %><br><br>

    <%= f.submit "Search" %>
<% end %>

<% if @pokemons.empty? %>
    <p>No Pokemon were found.</p>
<% else %>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Region</th>
                <th colspan="3"></th>
            </tr>
        </thead>

        <tbody>
            <% @pokemons.each do |pokemon| %>
            <tr>
                <td><%= pokemon.name %></td>
                <td><%= pokemon.pokemon_type %></td>
                <td><%= pokemon.region %></td>
                <td><%= link_to 'Show', pokemon %></td>
                <td><%= link_to 'Edit', edit_pokemon_path(pokemon) %></td>
                <td><%= link_to 'Destroy', pokemon, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
            <% end %>
        </tbody>
    </table>
<% end %>

<br>

<p><%= link_to "Back", '/pokemon' %></p>